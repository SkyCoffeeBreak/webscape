<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebscapeRPG - Map Editor</title>
  <!-- Google Noto Color Emoji Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/mapeditor.css">
</head>
<body>
  <div class="editor-container">
    <!-- Header -->
    <header class="editor-header">
      <div class="header-left">
        <h1>ğŸ—ºï¸ WebscapeRPG Map Editor</h1>
        <div class="editor-info">
          <span id="map-dimensions">100x100</span>
          <span id="selected-tool">Grass</span>
        </div>
      </div>
      <div class="header-right">
        <button id="back-to-game" class="header-btn">â† Back to Game</button>
      </div>
    </header>

    <!-- Main Editor Area -->
    <div class="editor-main">
      <!-- Toolbar -->
      <div class="editor-toolbar">
        <!-- Map Level Selection -->
        <div class="tool-section">
          <h3>ğŸ—ºï¸ Map Level</h3>
          <div class="map-level-buttons">
            <button class="map-level-button active" data-map-level="surface" title="Surface Level - Overworld">
              ğŸŒ Surface
            </button>
            <button class="map-level-button" data-map-level="underground" title="Underground Level - Caves and dungeons">
              ğŸ”ï¸ Underground
            </button>
          </div>
        </div>
        
        <!-- Layer Selection -->
        <div class="tool-section">
          <h3>ğŸšï¸ Layers</h3>
          <div class="layer-buttons">
            <button class="layer-button active" data-layer="0" title="Terrain Layer - Ground tiles, walls, and obstacles">
              ğŸŒ± Terrain
            </button>
            <button class="layer-button" data-layer="1" title="Ground Objects Layer - Floor items and decorations">
              ğŸª¨ Ground Objects
            </button>
            <button class="layer-button" data-layer="2" title="Interactive Objects Layer - Banks, trees, ores">
              ğŸ›ï¸ Interactive Objects
            </button>
            <button class="layer-button" data-layer="3" title="Decorative Overlays Layer - Visual effects and overlays">
              âœ¨ Decorative Overlays
            </button>
          </div>
        </div>
        
        <!-- Wall Tools -->
        <div class="tool-section">
          <h3>Walls</h3>
          <div class="tool-grid">
            <button class="tile-button" data-tile="1" title="Rock">ğŸ—¿</button>
            <button class="tile-button" data-tile="3" title="Water">ğŸ’§</button>
            <button class="tile-button" data-tile="5" title="Brick Wall">ğŸ§±</button>
            <button class="tile-button" data-tile="9" title="Stone Wall">ğŸ—¿</button>
            <button class="tile-button" data-tile="10" title="Wood Wall">ğŸªµ</button>
            <button class="tile-button" data-tile="11" title="Metal Wall">âš«</button>
            <button class="tile-button" data-tile="12" title="Crystal Wall">ğŸ’</button>
            <button class="tile-button" data-tile="13" title="Marble Wall">âšª</button>
            <button class="tile-button" data-tile="14" title="Obsidian Wall">â¬›</button>
            <button class="tile-button" data-tile="15" title="Ice Wall">ğŸ§Š</button>
            <button class="tile-button" data-tile="16" title="Thorned Wall">ğŸŒ¿</button>
            <button class="tile-button" data-tile="20" title="Lava">ğŸŒ‹</button>
            <button class="tile-button" data-tile="25" title="Sandstone Wall">ğŸ§±</button>
            <button class="tile-button" data-tile="26" title="Coral Wall">ğŸª¸</button>
            <button class="tile-button" data-tile="27" title="Bone Wall">ğŸ¦´</button>
            <button class="tile-button" data-tile="28" title="Magic Barrier">âœ¨</button>
            <button class="tile-button" data-tile="29" title="Volcanic Rock">ğŸŒ‹</button>
            <button class="tile-button" data-tile="30" title="Bamboo Wall">ğŸ‹</button>
            <button class="tile-button" data-tile="31" title="Iron Bars">ğŸ”’</button>
            <button class="tile-button" data-tile="32" title="Energy Field">âš¡</button>
          </div>
        </div>
        
        <!-- Terrain Tools -->
        <div class="tool-section">
          <h3>Floors</h3>
          <div class="tool-grid">
            <button class="tile-button active" data-tile="0" title="Grass">ğŸŒ±</button>
            <button class="tile-button" data-tile="2" title="Sand">ğŸœï¸</button>
            <button class="tile-button" data-tile="6" title="Dirt">ğŸŸ«</button>
            <button class="tile-button" data-tile="4" title="Stone Floor">â¬œ</button>
            <button class="tile-button" data-tile="7" title="Cobblestone">ğŸ”³</button>
            <button class="tile-button" data-tile="8" title="Wooden Floor">ğŸŸ¤</button>
            <button class="tile-button" data-tile="17" title="Gravel">â—¦</button>
            <button class="tile-button" data-tile="18" title="Snow">â„ï¸</button>
            <button class="tile-button" data-tile="19" title="Mud">ğŸŸ¤</button>
            <button class="tile-button" data-tile="21" title="Swamp">ğŸ¸</button>
            <button class="tile-button" data-tile="22" title="Tundra">ğŸ”ï¸</button>
            <button class="tile-button" data-tile="23" title="Desert Stone">ğŸº</button>
            <button class="tile-button" data-tile="24" title="Mossy Stone">ğŸƒ</button>
            <button class="tile-button" data-tile="33" title="Marble Floor">â¬œ</button>
            <button class="tile-button" data-tile="34" title="Carpet">ğŸŸ¥</button>
            <button class="tile-button" data-tile="35" title="Metal Grating">â¬œ</button>
            <button class="tile-button" data-tile="36" title="Crystal Floor">ğŸ’</button>
            <button class="tile-button" data-tile="37" title="Lava Rock">ğŸª¨</button>
            <button class="tile-button" data-tile="38" title="Ice Floor">ğŸ§Š</button>
            <button class="tile-button" data-tile="39" title="Grass Path">ğŸŒ¿</button>
            <button class="tile-button" data-tile="40" title="Ancient Tiles">ğŸ”³</button>
            <!-- Clay Terrain Types -->
            <button class="tile-button" data-tile="41" title="Clay Deposit">ğŸŸ¤</button>
            <button class="tile-button" data-tile="42" title="Fire Clay">ğŸ”¥</button>
            <button class="tile-button" data-tile="43" title="Cambrian Clay">ğŸŒŠ</button>
            <button class="tile-button" data-tile="44" title="White Clay">â¬œ</button>
            <button class="tile-button" data-tile="45" title="Black Clay">â¬›</button>
            <button class="tile-button" data-tile="46" title="Sacred Clay">âœ¨</button>
            <!-- Bone Excavation Terrain Types -->
            <button class="tile-button" data-tile="50" title="Bone Shards">ğŸ¦´</button>
            <button class="tile-button" data-tile="51" title="Burial Mound">âš±ï¸</button>
            <button class="tile-button" data-tile="52" title="Mammoth Pit">ğŸ¦£</button>
            <button class="tile-button" data-tile="53" title="Behemoth Remains">ğŸ’€</button>
            <button class="tile-button" data-tile="54" title="Fossil Shelf">ğŸ¦•</button>
            <button class="tile-button" data-tile="55" title="Draconic Remains">ğŸ²</button>
            <button class="tile-button" data-tile="56" title="Ancient Graveyard">â˜ ï¸</button>
            <!-- Underground Terrain -->
            <button class="tile-button" data-tile="57" title="Black Void">âš«</button>
          </div>
        </div>
        
        <div class="tool-section">
          <h3>Objects</h3>
          <div class="tool-grid">
            <button class="tile-button" data-tile="bank" title="Bank">ğŸ¦</button>
            <button class="tile-button" data-tile="shop_general" title="General Store">ğŸª</button>
            <button class="tile-button" data-tile="shop_weapon" title="Weapon Shop">âš”ï¸</button>
            <button class="tile-button" data-tile="shop_magic" title="Magic Shop">ğŸ”®</button>
            <button class="tile-button" data-tile="shop_mining" title="Mining Shop">â›ï¸</button>
            <button class="tile-button" data-tile="shop_fletching" title="Fletching Shop">ğŸª¶</button>
            <button class="tile-button" data-tile="shop_fishing" title="Fishing Shop">ğŸ£</button>
            <button class="tile-button" data-tile="tree_regular" title="Tree">ğŸŒ³</button>
            <button class="tile-button" data-tile="tree_oak" title="Oak Tree">ğŸŒ³</button>
            <button class="tile-button" data-tile="tree_pine" title="Pine Tree">ğŸŒ²</button>
            <button class="tile-button" data-tile="tree_palm" title="Palm Tree">ğŸŒ´</button>
            <button class="tile-button" data-tile="tree_bamboo" title="Bamboo">ğŸ‹</button>
            <button class="tile-button" data-tile="tree_magic" title="Magic Tree">ğŸ„</button>
            <button class="tile-button" data-tile="ore_copper" title="Copper Ore">ğŸŸ¤</button>
            <button class="tile-button" data-tile="ore_tin" title="Tin Ore">ğŸ”˜</button>
            <button class="tile-button" data-tile="ore_iron" title="Iron Ore">âš«</button>
            <button class="tile-button" data-tile="ore_silver" title="Silver Ore">âšª</button>
            <button class="tile-button" data-tile="ore_gold" title="Gold Ore">ğŸŸ¡</button>
            <button class="tile-button" data-tile="ore_mithril" title="Mithril Ore">ğŸ”µ</button>
            <button class="tile-button" data-tile="ore_adamantite" title="Adamantite Ore">ğŸŸ¢</button>
            <button class="tile-button" data-tile="item_spawn" title="Item Spawn">ğŸ“¦</button>
            <button class="tile-button" data-tile="pulp_basin" title="Pulp Basin">ğŸª£</button>
            <button class="tile-button" data-tile="scribing_table" title="Scribing Table">ğŸ“</button>
                                <button class="tile-button" data-tile="cooking_range" title="Cooking Range">ğŸ”¥</button>
                    <button class="tile-button" data-tile="apple_tree" title="Apple Tree">ğŸŒ³ğŸ</button>
                    <button class="tile-button" data-tile="cherry_tree" title="Cherry Tree">ğŸŒ³ğŸ’</button>
                    <button class="tile-button" data-tile="peach_tree" title="Peach Tree">ğŸŒ³ğŸ‘</button>
                    <button class="tile-button" data-tile="mushroom_patch" title="Mushroom Patch">ğŸ„</button>
                    <button class="tile-button" data-tile="wheat_field" title="Wheat Field">ğŸŒ¾</button>
            <button class="tile-button" data-tile="fishing_spot_shrimp" title="Shrimp Fishing Spot">ğŸ¦</button>
            <button class="tile-button" data-tile="fishing_spot_sardine" title="Sardine Fishing Spot">ğŸŸ</button>
            <button class="tile-button" data-tile="fishing_spot_herring" title="Herring Fishing Spot">ğŸ </button>
            <button class="tile-button" data-tile="fishing_spot_anchovies" title="Anchovies Fishing Spot">ğŸŸ</button>
            <button class="tile-button" data-tile="fishing_spot_tuna" title="Tuna Fishing Spot">ğŸŸ</button>
            <button class="tile-button" data-tile="fishing_spot_lobster" title="Lobster Fishing Spot">ğŸ¦</button>
            <button class="tile-button" data-tile="fishing_spot_swordfish" title="Swordfish Fishing Spot">ğŸ—¡ï¸</button>
            <button class="tile-button" data-tile="fishing_spot_shark" title="Shark Fishing Spot">ğŸ¦ˆ</button>
            <!-- Ladders -->
            <button class="tile-button" data-tile="ladder_down" title="Ladder Down">ğŸªœâ¬‡ï¸</button>
            <button class="tile-button" data-tile="ladder_up" title="Ladder Up">ğŸªœâ¬†ï¸</button>
          </div>
        </div>
        
        <div class="tool-section">
          <h3>Actions</h3>
          <div class="action-buttons">
            <button id="editor-eraser-tool" class="action-btn eraser-tool" data-tile="erase" title="Eraser Tool - Delete objects (terrain remains unchanged)">ğŸ§½ Eraser</button>
            <button id="editor-clear-map" class="action-btn">ğŸ—‘ï¸ Clear Map</button>
            <button id="editor-generate-random" class="action-btn">ğŸ² Generate Random</button>
            <button id="editor-save-map" class="action-btn">ğŸ’¾ Save Map</button>
            <button id="editor-load-map" class="action-btn">ğŸ“ Load Map</button>
            <button id="editor-apply-to-game" class="action-btn primary">âœ… Apply to Game</button>
          </div>
          <input type="file" id="editor-file-input" accept=".json" style="display: none;">
        </div>

        <!-- Spawn Tools -->
        <div class="tool-section">
          <h3>Spawn</h3>
          <div class="tool-grid">
            <button class="tile-button" data-tile="player_spawn" title="Player Spawn">ğŸ¯</button>
          </div>
        </div>

        <!-- NPC Tools -->
        <div class="tool-section">
          <h3>NPCs</h3>
          <div class="tool-grid">
            <button class="tile-button" data-tile="npc_rat" title="Rat NPC">ğŸ€</button>
            <button class="tile-button" data-tile="npc_cow" title="Cow NPC">ğŸ„</button>
            <button class="tile-button" data-tile="npc_goblin" title="Goblin NPC">ğŸ‘º</button>
          </div>
        </div>
      </div>

      <!-- Canvas Area -->
      <div class="canvas-container">
        <div class="canvas-controls">
          <div class="zoom-controls">
            <button id="zoom-out" class="zoom-btn">âˆ’</button>
            <span id="zoom-level">100%</span>
            <button id="zoom-in" class="zoom-btn">+</button>
          </div>
          <div class="navigation-controls">
            <div class="nav-info">
              <span>WASD to navigate</span>
            </div>
            <div class="nav-buttons">
              <button id="nav-up" class="nav-btn" title="Move Up (W)">â†‘</button>
              <div class="nav-horizontal">
                <button id="nav-left" class="nav-btn" title="Move Left (A)">â†</button>
                <button id="nav-down" class="nav-btn" title="Move Down (S)">â†“</button>
                <button id="nav-right" class="nav-btn" title="Move Right (D)">â†’</button>
              </div>
            </div>
          </div>
          <div class="map-size-controls">
            <label for="map-width">Width:</label>
            <input type="number" id="map-width" min="10" max="200" value="100" class="size-input">
            <label for="map-height">Height:</label>
            <input type="number" id="map-height" min="10" max="200" value="100" class="size-input">
            <button id="resize-map" class="action-btn size-btn" title="Resize Map">ğŸ“ Resize</button>
          </div>
          <div class="canvas-info">
            <span id="mouse-coords">0, 0</span>
          </div>
        </div>
        <div class="canvas-wrapper">
          <div id="map-editor-canvas" class="map-canvas"></div>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    import { initializeStandaloneMapEditor } from './js/mapeditor-standalone.js';
    
    // Initialize when DOM is loaded
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeStandaloneMapEditor);
    } else {
      initializeStandaloneMapEditor();
    }
  </script>
</body>
</html> 